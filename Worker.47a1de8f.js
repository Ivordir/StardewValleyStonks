(()=>{function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=e.parcelRequire94c2;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){r[t]=e},e.parcelRequire94c2=o),o.register("l9uIb",(function(t,e){(function(){var e,n,r,o,i,s,l,a,u,c,p,f,h,d,b,m;r=Math.floor,c=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},u=function(t,e,o,i,s){var l;if(null==o&&(o=0),null==s&&(s=n),o<0)throw new Error("lo must be non-negative");for(null==i&&(i=t.length);o<i;)s(e,t[l=r((o+i)/2)])<0?i=l:o=l+1;return[].splice.apply(t,[o,o-o].concat(e)),e},s=function(t,e,r){return null==r&&(r=n),t.push(e),d(t,0,t.length-1,r)},i=function(t,e){var r,o;return null==e&&(e=n),r=t.pop(),t.length?(o=t[0],t[0]=r,b(t,0,e)):o=r,o},a=function(t,e,r){var o;return null==r&&(r=n),o=t[0],t[0]=e,b(t,0,r),o},l=function(t,e,r){var o;return null==r&&(r=n),t.length&&r(t[0],e)<0&&(e=(o=[t[0],e])[0],t[0]=o[1],b(t,0,r)),e},o=function(t,e){var o,i,s,l,a,u;for(null==e&&(e=n),l=function(){u=[];for(var e=0,n=r(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)u.push(e);return u}.apply(this).reverse(),a=[],i=0,s=l.length;i<s;i++)o=l[i],a.push(b(t,o,e));return a},h=function(t,e,r){var o;if(null==r&&(r=n),-1!==(o=t.indexOf(e)))return d(t,0,o,r),b(t,o,r)},p=function(t,e,r){var i,s,a,u,c;if(null==r&&(r=n),!(s=t.slice(0,e)).length)return s;for(o(s,r),a=0,u=(c=t.slice(e)).length;a<u;a++)i=c[a],l(s,i,r);return s.sort(r).reverse()},f=function(t,e,r){var s,l,a,p,f,h,d,b,m;if(null==r&&(r=n),10*e<=t.length){if(!(a=t.slice(0,e).sort(r)).length)return a;for(l=a[a.length-1],p=0,h=(d=t.slice(e)).length;p<h;p++)r(s=d[p],l)<0&&(u(a,s,0,null,r),a.pop(),l=a[a.length-1]);return a}for(o(t,r),m=[],f=0,b=c(e,t.length);0<=b?f<b:f>b;0<=b?++f:--f)m.push(i(t,r));return m},d=function(t,e,r,o){var i,s,l;for(null==o&&(o=n),i=t[r];r>e&&o(i,s=t[l=r-1>>1])<0;)t[r]=s,r=l;return t[r]=i},b=function(t,e,r){var o,i,s,l,a;for(null==r&&(r=n),i=t.length,a=e,s=t[e],o=2*e+1;o<i;)(l=o+1)<i&&!(r(t[o],t[l])<0)&&(o=l),t[e]=t[o],o=2*(e=o)+1;return t[e]=s,d(t,a,e,r)},e=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=s,t.pop=i,t.replace=a,t.pushpop=l,t.heapify=o,t.updateItem=h,t.nlargest=p,t.nsmallest=f,t.prototype.push=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pop=function(){return i(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return l(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return o(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return h(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),m=function(){return e},"function"==typeof define&&define.amd?define([],m):t.exports=m()}).call(t.exports)}));function i(t){return Array.isArray(t)||ArrayBuffer.isView(t)}class s{constructor(t){this.en=t}GetEnumerator(){return this.en}"System.Collections.IEnumerable.GetEnumerator"(){return this.en}[Symbol.iterator](){return this}next(){const t=this.en["System.Collections.IEnumerator.MoveNext"]();return{done:!t,value:t?this.en["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0}}}class l{static id(t){return l.idMap.has(t)||l.idMap.set(t,++l.count),l.idMap.get(t)}}l.idMap=new WeakMap,l.count=0;new WeakMap;function a(t,e){return"function"==typeof t?new t(e):new Array(e)}function u(t,e,n){const r=0|e.length,o=a(n,r);for(let n=0;n<=r-1;n++)o[n]=t(e[n]);return o}const c=(t,e,n)=>t.matrix[Math.imul(e,t.width)+n],p=(t,e,n,r)=>{t.matrix[Math.imul(e,t.width)+n]=r},f=t=>"function"==typeof t[Symbol.iterator]?t:Object.entries(t),h=t=>!0===t||(!1===t?new Set:t instanceof Set?t:new Set(t)),d=t=>{const{direction:e,objective:n,integers:r,binaries:o}=t,i="minimize"===e?-1:1,s=f(t.constraints),l=f(t.variables),a=Array.isArray(l)?l:Array.from(l),u=[],c=[];if(null!=r||null!=o){const t=h(o),e=!0===t||h(r);for(let n=1;n<=a.length;n++){const[r]=a[n-1];!0===t||t.has(r)?(u.push(n),c.push(n)):(!0===e||e.has(r))&&c.push(n)}}const d=new Map;for(const[t,e]of s){const n=d.get(t)??{row:NaN,lower:-1/0,upper:1/0};n.lower=Math.max(n.lower,e.equal??e.min??-1/0),n.upper=Math.min(n.upper,e.equal??e.max??1/0),d.has(t)||d.set(t,n)}let b=1;for(const t of d.values())t.row=b,b+=(Number.isFinite(t.lower)?1:0)+(Number.isFinite(t.upper)?1:0);const m=a.length+1,y=b+u.length,g=m+y,w=new Float64Array(m*y),v=new Int32Array(g),N=new Int32Array(g),M={matrix:w,width:m,height:y,positionOfVariable:v,variableAtPosition:N};for(let t=0;t<g;t++)v[t]=t,N[t]=t;for(let t=1;t<m;t++)for(const[e,r]of f(a[t-1][1])){e===n&&p(M,0,t,i*r);const o=d.get(e);null!=o&&(Number.isFinite(o.upper)?(p(M,o.row,t,r),Number.isFinite(o.lower)&&p(M,o.row+1,t,-r)):Number.isFinite(o.lower)&&p(M,o.row,t,-r))}for(const t of d.values())Number.isFinite(t.upper)?(p(M,t.row,0,t.upper),Number.isFinite(t.lower)&&p(M,t.row+1,0,-t.lower)):Number.isFinite(t.lower)&&p(M,t.row,0,-t.lower);for(let t=0;t<u.length;t++){const e=b+t;p(M,e,0,1),p(M,e,u[t],1)}return{tableau:M,sign:i,variables:a,integers:c}},b=(t,e)=>{const n=Math.round(1/e);return Math.round((t+Number.EPSILON)*n)/n},m=(t,e,n)=>{const r=c(t,e,n),o=t.variableAtPosition[t.width+e],i=t.variableAtPosition[n];t.variableAtPosition[t.width+e]=i,t.variableAtPosition[n]=o,t.positionOfVariable[o]=n,t.positionOfVariable[i]=t.width+e;const s=[];for(let n=0;n<t.width;n++){const o=c(t,e,n);Math.abs(o)>1e-16?(p(t,e,n,o/r),s.push(n)):p(t,e,n,0)}p(t,e,n,1/r);for(let o=0;o<t.height;o++){if(o===e)continue;const i=c(t,o,n);if(Math.abs(i)>1e-16){for(let n=0;n<s.length;n++){const r=s[n];p(t,o,r,c(t,o,r)-i*c(t,e,r))}p(t,o,n,-i/r)}}},y=(t,e,n,r)=>{t.push([e.variableAtPosition[e.width+n],e.variableAtPosition[r]]);for(let e=6;e<=Math.trunc(t.length/2);e++){let n=!0;for(let r=0;r<e;r++){const o=t.length-1-r,[i,s]=t[o],[l,a]=t[o-e];if(i!==l||s!==a){n=!1;break}}if(n)return!0}return!1},g=(t,e)=>{const n=[],{precision:r,maxPivots:o,checkCycles:i}=e;for(let e=0;e<o;e++){let e=0,o=r;for(let n=1;n<t.width;n++){const r=c(t,0,n);r>o&&(o=r,e=n)}if(0===e)return["optimal",b(c(t,0,0),r)];let s=0,l=1/0;for(let n=1;n<t.height;n++){const o=c(t,n,e);if(o<=r)continue;const i=c(t,n,0)/o;if(i<l&&(s=n,l=i,i<=r))break}if(0===s)return["unbounded",e];if(i&&y(n,t,s,e))return["cycled",NaN];m(t,s,e)}return["cycled",NaN]},w=(t,e)=>{const n=[],{precision:r,maxPivots:o,checkCycles:i}=e;for(let s=0;s<o;s++){let o=0,s=-r;for(let e=1;e<t.height;e++){const n=c(t,e,0);n<s&&(s=n,o=e)}if(0===o)return g(t,e);let l=0,a=-1/0;for(let e=1;e<t.width;e++){const n=c(t,o,e);if(n<-r){const r=-c(t,0,e)/n;r>a&&(a=r,l=e)}}if(0===l)return["infeasible",NaN];if(i&&y(n,t,o,l))return["cycled",NaN];m(t,o,l)}return["cycled",NaN]};var v;v=o("l9uIb");const N=(t,e)=>({matrix:new Float64Array(t),positionOfVariable:new Int32Array(e),variableAtPosition:new Int32Array(e)}),M=(t,{matrix:e,positionOfVariable:n,variableAtPosition:r},o)=>{const{width:i,height:s}=t;e.set(t.matrix);for(let n=0;n<o.length;n++){const[r,l,a]=o[n],u=(s+n)*i,c=t.positionOfVariable[l];if(c<i)e[u]=r*a,e.fill(0,u+1,u+i),e[u+c]=r;else{const t=(c-i)*i;e[u]=r*(a-e[t]);for(let n=1;n<i;n++)e[u+n]=-r*e[t+n]}}n.set(t.positionOfVariable),r.set(t.variableAtPosition);const l=i+s+o.length;for(let t=i+s;t<l;t++)n[t]=t,r[t]=t;return{matrix:e.subarray(0,t.matrix.length+i*o.length),width:i,height:s+o.length,positionOfVariable:n.subarray(0,l),variableAtPosition:r.subarray(0,l)}},x=(t,e)=>{let n=0,r=0,o=0;for(let i=0;i<e.length;i++){const s=e[i],l=t.positionOfVariable[s]-t.width;if(l<0)continue;const a=c(t,l,0),u=Math.abs(a-Math.round(a));u>n&&(n=u,r=s,o=a)}return[r,o,n]},A=(e,n,r)=>{const{tableau:o,sign:i,integers:s}=e,{precision:l,maxIterations:a,tolerance:u,timeout:c}=r,[p,f,h]=x(o,s);if(h<=l)return[e,"optimal",n];const d=new(t(v))(((t,e)=>t[0]-e[0]));d.push([n,[[-1,p,Math.ceil(f)]]]),d.push([n,[[1,p,Math.floor(f)]]]);const b=2*s.length,m=o.matrix.length+b*o.width,y=o.positionOfVariable.length+b;let g=N(m,y),A=N(m,y);const O=n*(1-i*u),P=c+Date.now();let I=Date.now()>=P,V=!1,k=1/0,F=o,E=0;for(;E<a&&!d.empty()&&k>=O&&!I;){const[t,e]=d.pop();if(t>k)break;const n=M(o,g,e),[i,a]=w(n,r);if("optimal"===i&&a<k){const[t,r,o]=x(n,s);if(o<=l){V=!0,k=a,F=n;const t=A;A=g,g=t}else{const n=[],o=[];for(let r=0;r<e.length;r++){const i=e[r],[s,l]=i;l===t?s<0?o.push(i):n.push(i):(n.push(i),o.push(i))}o.push([1,t,Math.floor(r)]),n.push([-1,t,Math.ceil(r)]),d.push([a,n]),d.push([a,o])}}I=Date.now()>=P,E++}const S=(I||E>=a)&&!d.empty()&&k>=O?"timedout":V?"optimal":"infeasible";return[{...e,tableau:F},S,V?k:NaN]},O=({tableau:t,sign:e,variables:n},r,o,{precision:i,includeZeroVariables:s})=>{if("optimal"===r||"timedout"===r&&!Number.isNaN(o)){const l=[];for(let e=0;e<n.length;e++){const[r]=n[e],o=t.positionOfVariable[e+1]-t.width,a=o>=0?c(t,o,0):0;a>i?l.push([r,b(a,i)]):s&&l.push([r,0])}return{status:r,result:-e*o,variables:l}}if("unbounded"===r){const r=t.variableAtPosition[o]-1;return{status:"unbounded",result:e*(1/0),variables:0<=r&&r<n.length?[[n[r][0],1/0]]:[]}}return{status:r,result:NaN,variables:[]}},P={precision:1e-8,checkCycles:!1,maxPivots:8192,tolerance:0,timeout:1/0,maxIterations:32768,includeZeroVariables:!1},I=(t,e)=>{const n=d(t),r={...P,...e},[o,i]=w(n.tableau,r);if(0===n.integers.length||"optimal"!==o)return O(n,o,i,r);{const[t,e,o]=A(n,i,r);return O(t,e,o,r)}};onmessage=t=>{const e=t.data;if(i(e)){postMessage(u((t=>I(t,void 0)),e))}}})();
//# sourceMappingURL=Worker.47a1de8f.js.map

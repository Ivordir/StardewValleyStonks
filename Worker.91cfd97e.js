(()=>{var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequire94c2;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequire94c2=n),n.register("l9uIb",function(e,t){(function(){var t,r,n,i,o,l,a,u,s,p,f,h,c,d,b,g;n=Math.floor,p=Math.min,r=function(e,t){return e<t?-1:e>t?1:0},s=function(e,t,i,o,l){var a;if(null==i&&(i=0),null==l&&(l=r),i<0)throw Error("lo must be non-negative");for(null==o&&(o=e.length);i<o;)0>l(t,e[a=n((i+o)/2)])?o=a:i=a+1;return[].splice.apply(e,[i,i-i].concat(t)),t},l=function(e,t,n){return null==n&&(n=r),e.push(t),d(e,0,e.length-1,n)},o=function(e,t){var n,i;return null==t&&(t=r),n=e.pop(),e.length?(i=e[0],e[0]=n,b(e,0,t)):i=n,i},u=function(e,t,n){var i;return null==n&&(n=r),i=e[0],e[0]=t,b(e,0,n),i},a=function(e,t,n){var i;return null==n&&(n=r),e.length&&0>n(e[0],t)&&(t=(i=[e[0],t])[0],e[0]=i[1],b(e,0,n)),t},i=function(e,t){var i,o,l,a,u,s;for(null==t&&(t=r),a=(function(){s=[];for(var t=0,r=n(e.length/2);0<=r?t<r:t>r;0<=r?t++:t--)s.push(t);return s}).apply(this).reverse(),u=[],o=0,l=a.length;o<l;o++)i=a[o],u.push(b(e,i,t));return u},c=function(e,t,n){var i;if(null==n&&(n=r),-1!==(i=e.indexOf(t)))return d(e,0,i,n),b(e,i,n)},f=function(e,t,n){var o,l,u,s;if(null==n&&(n=r),!(o=e.slice(0,t)).length)return o;for(i(o,n),l=0,u=(s=e.slice(t)).length;l<u;l++)a(o,s[l],n);return o.sort(n).reverse()},h=function(e,t,n){var l,a,u,f,h,c,d,b,g;if(null==n&&(n=r),10*t<=e.length){if(!(u=e.slice(0,t).sort(n)).length)return u;for(f=0,a=u[u.length-1],c=(d=e.slice(t)).length;f<c;f++)0>n(l=d[f],a)&&(s(u,l,0,null,n),u.pop(),a=u[u.length-1]);return u}for(i(e,n),g=[],h=0,b=p(t,e.length);0<=b?h<b:h>b;0<=b?++h:--h)g.push(o(e,n));return g},d=function(e,t,n,i){var o,l,a;for(null==i&&(i=r),o=e[n];n>t;){if(l=e[a=n-1>>1],0>i(o,l)){e[n]=l,n=a;continue}break}return e[n]=o},b=function(e,t,n){var i,o,l,a,u;for(null==n&&(n=r),o=e.length,u=t,l=e[t],i=2*t+1;i<o;)(a=i+1)<o&&!(0>n(e[i],e[a]))&&(i=a),e[t]=e[i],i=2*(t=i)+1;return e[t]=l,d(e,u,t,n)},t=function(){function e(e){this.cmp=null!=e?e:r,this.nodes=[]}return e.push=l,e.pop=o,e.replace=u,e.pushpop=a,e.heapify=i,e.updateItem=c,e.nlargest=f,e.nsmallest=h,e.prototype.push=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pop=function(){return o(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return -1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return u(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return a(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return i(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return c(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),g=function(){return t},"function"==typeof define&&define.amd?define([],g):e.exports=g()}).call(e.exports)});class i{static id(e){return i.idMap.has(e)||i.idMap.set(e,++i.count),i.idMap.get(e)}}i.idMap=new WeakMap,i.count=0,new WeakMap;let o=(e,t,r)=>e.matrix[Math.imul(t,e.width)+r],l=(e,t,r,n)=>{e.matrix[Math.imul(t,e.width)+r]=n},a=e=>"function"==typeof e[Symbol.iterator]?e:Object.entries(e),u=e=>!0===e||(!1===e?new Set:e instanceof Set?e:new Set(e)),s=e=>{let{direction:t,objective:r,integers:n,binaries:i}=e,o="minimize"===t?-1:1,s=a(e.constraints),p=a(e.variables),f=Array.isArray(p)?p:Array.from(p),h=[],c=[];if(null!=n||null!=i){let e=u(i),t=!0===e||u(n);for(let r=1;r<=f.length;r++){let[n]=f[r-1];!0===e||e.has(n)?(h.push(r),c.push(r)):(!0===t||t.has(n))&&c.push(r)}}let d=new Map;for(let[e,t]of s){let r=d.get(e)??{row:NaN,lower:-1/0,upper:1/0};r.lower=Math.max(r.lower,t.equal??t.min??-1/0),r.upper=Math.min(r.upper,t.equal??t.max??1/0),d.has(e)||d.set(e,r)}let b=1;for(let e of d.values())e.row=b,b+=(Number.isFinite(e.lower)?1:0)+(Number.isFinite(e.upper)?1:0);let g=f.length+1,m=b+h.length,y=g+m,w=new Float64Array(g*m),v=new Int32Array(y),M=new Int32Array(y),N={matrix:w,width:g,height:m,positionOfVariable:v,variableAtPosition:M};for(let e=0;e<y;e++)v[e]=e,M[e]=e;for(let e=1;e<g;e++)for(let[t,n]of a(f[e-1][1])){t===r&&l(N,0,e,o*n);let i=d.get(t);null!=i&&(Number.isFinite(i.upper)?(l(N,i.row,e,n),Number.isFinite(i.lower)&&l(N,i.row+1,e,-n)):Number.isFinite(i.lower)&&l(N,i.row,e,-n))}for(let e of d.values())Number.isFinite(e.upper)?(l(N,e.row,0,e.upper),Number.isFinite(e.lower)&&l(N,e.row+1,0,-e.lower)):Number.isFinite(e.lower)&&l(N,e.row,0,-e.lower);for(let e=0;e<h.length;e++){let t=b+e;l(N,t,0,1),l(N,t,h[e],1)}return{tableau:N,sign:o,variables:f,integers:c}},p=(e,t)=>{let r=Math.round(1/t);return Math.round((e+Number.EPSILON)*r)/r},f=(e,t,r)=>{let n=o(e,t,r),i=e.variableAtPosition[e.width+t],a=e.variableAtPosition[r];e.variableAtPosition[e.width+t]=a,e.variableAtPosition[r]=i,e.positionOfVariable[i]=r,e.positionOfVariable[a]=e.width+t;let u=[];for(let r=0;r<e.width;r++){let i=o(e,t,r);Math.abs(i)>1e-16?(l(e,t,r,i/n),u.push(r)):l(e,t,r,0)}l(e,t,r,1/n);for(let i=0;i<e.height;i++){if(i===t)continue;let a=o(e,i,r);if(Math.abs(a)>1e-16){for(let r=0;r<u.length;r++){let n=u[r];l(e,i,n,o(e,i,n)-a*o(e,t,n))}l(e,i,r,-a/n)}}},h=(e,t,r,n)=>{e.push([t.variableAtPosition[t.width+r],t.variableAtPosition[n]]);for(let t=6;t<=Math.trunc(e.length/2);t++){let r=!0;for(let n=0;n<t;n++){let i=e.length-1-n,[o,l]=e[i],[a,u]=e[i-t];if(o!==a||l!==u){r=!1;break}}if(r)return!0}return!1},c=(e,t)=>{let r=[],{precision:n,maxPivots:i,checkCycles:l}=t;for(let t=0;t<i;t++){let t=0,i=n;for(let r=1;r<e.width;r++){let n=o(e,0,r);n>i&&(i=n,t=r)}if(0===t)return["optimal",p(o(e,0,0),n)];let a=0,u=1/0;for(let r=1;r<e.height;r++){let i=o(e,r,t);if(i<=n)continue;let l=o(e,r,0),s=l/i;if(s<u&&(a=r,u=s,s<=n))break}if(0===a)return["unbounded",t];if(l&&h(r,e,a,t))break;f(e,a,t)}return["cycled",NaN]},d=(e,t)=>{let r=[],{precision:n,maxPivots:i,checkCycles:l}=t;for(let a=0;a<i;a++){let i=0,a=-n;for(let t=1;t<e.height;t++){let r=o(e,t,0);r<a&&(a=r,i=t)}if(0===i)return c(e,t);let u=0,s=-1/0;for(let t=1;t<e.width;t++){let r=o(e,i,t);if(r<-n){let n=-o(e,0,t)/r;n>s&&(s=n,u=t)}}if(0===u)return["infeasible",NaN];if(l&&h(r,e,i,u))break;f(e,i,u)}return["cycled",NaN]};var b={};b=n("l9uIb");let g=(e,t)=>({matrix:new Float64Array(e),positionOfVariable:new Int32Array(t),variableAtPosition:new Int32Array(t)}),m=(e,{matrix:t,positionOfVariable:r,variableAtPosition:n},i)=>{let{width:o,height:l}=e;t.set(e.matrix);for(let r=0;r<i.length;r++){let[n,a,u]=i[r],s=(l+r)*o,p=e.positionOfVariable[a];if(p<o)t[s]=n*u,t.fill(0,s+1,s+o),t[s+p]=n;else{let e=(p-o)*o;t[s]=n*(u-t[e]);for(let r=1;r<o;r++)t[s+r]=-n*t[e+r]}}r.set(e.positionOfVariable),n.set(e.variableAtPosition);let a=o+l+i.length;for(let e=o+l;e<a;e++)r[e]=e,n[e]=e;return{matrix:t.subarray(0,e.matrix.length+o*i.length),width:o,height:l+i.length,positionOfVariable:r.subarray(0,a),variableAtPosition:n.subarray(0,a)}},y=(e,t)=>{let r=0,n=0,i=0;for(let l=0;l<t.length;l++){let a=t[l],u=e.positionOfVariable[a]-e.width;if(u<0)continue;let s=o(e,u,0),p=Math.abs(s-Math.round(s));p>r&&(r=p,n=a,i=s)}return[n,i,r]},w=(e,t,r)=>{let{tableau:n,sign:i,integers:o}=e,{precision:l,maxIterations:a,tolerance:u,timeout:s}=r,[p,f,h]=y(n,o);if(h<=l)return[e,"optimal",t];let c=new(function(e){return e&&e.__esModule?e.default:e}(b))((e,t)=>e[0]-t[0]);c.push([t,[[-1,p,Math.ceil(f)]]]),c.push([t,[[1,p,Math.floor(f)]]]);let w=2*o.length,v=n.matrix.length+w*n.width,M=n.positionOfVariable.length+w,N=g(v,M),A=g(v,M),x=t*(1-i*u),O=s+Date.now(),P=Date.now()>=O,k=!1,V=1/0,F=n,I=0;for(;I<a&&!c.empty()&&V>=x&&!P;){let[e,t]=c.pop();if(e>V)break;let i=m(n,N,t),[a,u]=d(i,r);if("optimal"===a&&u<V){let[e,r,n]=y(i,o);if(n<=l){k=!0,V=u,F=i;let e=A;A=N,N=e}else{let n=[],i=[];for(let r=0;r<t.length;r++){let o=t[r],[l,a]=o;a===e?l<0?i.push(o):n.push(o):(n.push(o),i.push(o))}i.push([1,e,Math.floor(r)]),n.push([-1,e,Math.ceil(r)]),c.push([u,n]),c.push([u,i])}}P=Date.now()>=O,I++}let D=(P||I>=a)&&!c.empty()&&V>=x,S=D?"timedout":k?"optimal":"infeasible";return[{...e,tableau:F},S,k?V:NaN]},v=({tableau:e,sign:t,variables:r},n,i,{precision:l,includeZeroVariables:a})=>{if("optimal"!==n&&("timedout"!==n||Number.isNaN(i))){if("unbounded"!==n)return{status:n,result:NaN,variables:[]};{let n=e.variableAtPosition[i]-1;return{status:"unbounded",result:t*(1/0),variables:0<=n&&n<r.length?[[r[n][0],1/0]]:[]}}}{let u=[];for(let t=0;t<r.length;t++){let[n]=r[t],i=e.positionOfVariable[t+1]-e.width,s=i>=0?o(e,i,0):0;s>l?u.push([n,p(s,l)]):a&&u.push([n,0])}return{status:n,result:-t*i,variables:u}}},M={precision:1e-8,checkCycles:!1,maxPivots:8192,tolerance:0,timeout:1/0,maxIterations:32768,includeZeroVariables:!1};({...M});let N=(e,t)=>{let r=s(e),n={...M,...t},[i,o]=d(r.tableau,n);if(0===r.integers.length||"optimal"!==i)return v(r,i,o,n);{let[e,t,i]=w(r,o,n);return v(e,t,i,n)}};onmessage=e=>{let t=e.data;(function(e){return Array.isArray(e)||ArrayBuffer.isView(e)})(t)&&postMessage(function(e,t,r){var n;let i=0|t.length,o="function"==typeof(n=void 0)?new n(i):Array(i);for(let r=0;r<=i-1;r++)o[r]=e(t[r]);return o}(e=>N(e,void 0),t))}})();
//# sourceMappingURL=Worker.91cfd97e.js.map

(()=>{var t=globalThis,e={},r={},n=t.parcelRequire94c2;null==n&&((n=function(t){if(t in e)return e[t].exports;if(t in r){var n=r[t];delete r[t];var i={id:t,exports:{}};return e[t]=i,n.call(i.exports,i,i.exports),i.exports}var o=Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){r[t]=e},t.parcelRequire94c2=n),(0,n.register)("l9uIb",function(t,e){(function(){var e,r,n,i,o,l,a,u,s,p,h,f,c,d,b,m;n=Math.floor,p=Math.min,r=function(t,e){return t<e?-1:t>e?1:0},s=function(t,e,i,o,l){var a;if(null==i&&(i=0),null==l&&(l=r),i<0)throw Error("lo must be non-negative");for(null==o&&(o=t.length);i<o;)0>l(e,t[a=n((i+o)/2)])?o=a:i=a+1;return[].splice.apply(t,[i,i-i].concat(e)),e},l=function(t,e,n){return null==n&&(n=r),t.push(e),d(t,0,t.length-1,n)},o=function(t,e){var n,i;return null==e&&(e=r),n=t.pop(),t.length?(i=t[0],t[0]=n,b(t,0,e)):i=n,i},u=function(t,e,n){var i;return null==n&&(n=r),i=t[0],t[0]=e,b(t,0,n),i},a=function(t,e,n){var i;return null==n&&(n=r),t.length&&0>n(t[0],e)&&(e=(i=[t[0],e])[0],t[0]=i[1],b(t,0,n)),e},i=function(t,e){var i,o,l,a,u,s;for(null==e&&(e=r),a=(function(){s=[];for(var e=0,r=n(t.length/2);0<=r?e<r:e>r;0<=r?e++:e--)s.push(e);return s}).apply(this).reverse(),u=[],o=0,l=a.length;o<l;o++)i=a[o],u.push(b(t,i,e));return u},c=function(t,e,n){var i;if(null==n&&(n=r),-1!==(i=t.indexOf(e)))return d(t,0,i,n),b(t,i,n)},h=function(t,e,n){var o,l,u,s;if(null==n&&(n=r),!(o=t.slice(0,e)).length)return o;for(i(o,n),l=0,u=(s=t.slice(e)).length;l<u;l++)a(o,s[l],n);return o.sort(n).reverse()},f=function(t,e,n){var l,a,u,h,f,c,d,b,m;if(null==n&&(n=r),10*e<=t.length){if(!(u=t.slice(0,e).sort(n)).length)return u;for(h=0,a=u[u.length-1],c=(d=t.slice(e)).length;h<c;h++)0>n(l=d[h],a)&&(s(u,l,0,null,n),u.pop(),a=u[u.length-1]);return u}for(i(t,n),m=[],f=0,b=p(e,t.length);0<=b?f<b:f>b;0<=b?++f:--f)m.push(o(t,n));return m},d=function(t,e,n,i){var o,l,a;for(null==i&&(i=r),o=t[n];n>e;){if(0>i(o,l=t[a=n-1>>1])){t[n]=l,n=a;continue}break}return t[n]=o},b=function(t,e,n){var i,o,l,a,u;for(null==n&&(n=r),o=t.length,u=e,l=t[e],i=2*e+1;i<o;)(a=i+1)<o&&!(0>n(t[i],t[a]))&&(i=a),t[e]=t[i],i=2*(e=i)+1;return t[e]=l,d(t,u,e,n)},e=function(){function t(t){this.cmp=null!=t?t:r,this.nodes=[]}return t.push=l,t.pop=o,t.replace=u,t.pushpop=a,t.heapify=i,t.updateItem=c,t.nlargest=h,t.nsmallest=f,t.prototype.push=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return -1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return u(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return i(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return c(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),m=function(){return e},"function"==typeof define&&define.amd?define([],m):t.exports=m()}).call(t.exports)});class i{static id(t){return i.idMap.has(t)||i.idMap.set(t,++i.count),i.idMap.get(t)}}i.idMap=new WeakMap,i.count=0,new WeakMap;let o=(t,e,r)=>t.matrix[Math.imul(e,t.width)+r],l=(t,e,r,n)=>{t.matrix[Math.imul(e,t.width)+r]=n},a=t=>"function"==typeof t[Symbol.iterator]?t:Object.entries(t),u=t=>!0===t||(!1===t?new Set:t instanceof Set?t:new Set(t)),s=t=>{let{direction:e,objective:r,integers:n,binaries:i}=t,o="minimize"===e?-1:1,s=a(t.constraints),p=a(t.variables),h=Array.isArray(p)?p:Array.from(p),f=[],c=[];if(null!=n||null!=i){let t=u(i),e=!0===t||u(n);for(let r=1;r<=h.length;r++){let[n]=h[r-1];!0===t||t.has(n)?(f.push(r),c.push(r)):(!0===e||e.has(n))&&c.push(r)}}let d=new Map;for(let[t,e]of s){let r=d.get(t)??{row:NaN,lower:-1/0,upper:1/0};r.lower=Math.max(r.lower,e.equal??e.min??-1/0),r.upper=Math.min(r.upper,e.equal??e.max??1/0),d.has(t)||d.set(t,r)}let b=1;for(let t of d.values())t.row=b,b+=(Number.isFinite(t.lower)?1:0)+(Number.isFinite(t.upper)?1:0);let m=h.length+1,g=b+f.length,y=m+g,w=new Float64Array(m*g),v=new Int32Array(y),x=new Int32Array(y),M={matrix:w,width:m,height:g,positionOfVariable:v,variableAtPosition:x};for(let t=0;t<y;t++)v[t]=t,x[t]=t;for(let t=1;t<m;t++)for(let[e,n]of a(h[t-1][1])){e===r&&l(M,0,t,o*n);let i=d.get(e);null!=i&&(Number.isFinite(i.upper)?(l(M,i.row,t,n),Number.isFinite(i.lower)&&l(M,i.row+1,t,-n)):Number.isFinite(i.lower)&&l(M,i.row,t,-n))}for(let t of d.values())Number.isFinite(t.upper)?(l(M,t.row,0,t.upper),Number.isFinite(t.lower)&&l(M,t.row+1,0,-t.lower)):Number.isFinite(t.lower)&&l(M,t.row,0,-t.lower);for(let t=0;t<f.length;t++){let e=b+t;l(M,e,0,1),l(M,e,f[t],1)}return{tableau:M,sign:o,variables:h,integers:c}},p=(t,e)=>{let r=Math.round(1/e);return Math.round((t+Number.EPSILON)*r)/r},h=(t,e,r)=>{let n=o(t,e,r),i=t.variableAtPosition[t.width+e],a=t.variableAtPosition[r];t.variableAtPosition[t.width+e]=a,t.variableAtPosition[r]=i,t.positionOfVariable[i]=r,t.positionOfVariable[a]=t.width+e;let u=[];for(let r=0;r<t.width;r++){let i=o(t,e,r);Math.abs(i)>1e-16?(l(t,e,r,i/n),u.push(r)):l(t,e,r,0)}l(t,e,r,1/n);for(let i=0;i<t.height;i++){if(i===e)continue;let a=o(t,i,r);if(Math.abs(a)>1e-16){for(let r=0;r<u.length;r++){let n=u[r];l(t,i,n,o(t,i,n)-a*o(t,e,n))}l(t,i,r,-a/n)}}},f=(t,e,r,n)=>{t.push([e.variableAtPosition[e.width+r],e.variableAtPosition[n]]);for(let e=6;e<=Math.trunc(t.length/2);e++){let r=!0;for(let n=0;n<e;n++){let i=t.length-1-n,[o,l]=t[i],[a,u]=t[i-e];if(o!==a||l!==u){r=!1;break}}if(r)return!0}return!1},c=(t,e)=>{let r=[],{precision:n,maxPivots:i,checkCycles:l}=e;for(let e=0;e<i;e++){let e=0,i=n;for(let r=1;r<t.width;r++){let n=o(t,0,r);n>i&&(i=n,e=r)}if(0===e)return["optimal",p(o(t,0,0),n)];let a=0,u=1/0;for(let r=1;r<t.height;r++){let i=o(t,r,e);if(i<=n)continue;let l=o(t,r,0)/i;if(l<u&&(a=r,u=l,l<=n))break}if(0===a)return["unbounded",e];if(l&&f(r,t,a,e))break;h(t,a,e)}return["cycled",NaN]},d=(t,e)=>{let r=[],{precision:n,maxPivots:i,checkCycles:l}=e;for(let a=0;a<i;a++){let i=0,a=-n;for(let e=1;e<t.height;e++){let r=o(t,e,0);r<a&&(a=r,i=e)}if(0===i)return c(t,e);let u=0,s=-1/0;for(let e=1;e<t.width;e++){let r=o(t,i,e);if(r<-n){let n=-o(t,0,e)/r;n>s&&(s=n,u=e)}}if(0===u)return["infeasible",NaN];if(l&&f(r,t,i,u))break;h(t,i,u)}return["cycled",NaN]};var b={};b=n("l9uIb");let m=(t,e)=>({matrix:new Float64Array(t),positionOfVariable:new Int32Array(e),variableAtPosition:new Int32Array(e)}),g=(t,{matrix:e,positionOfVariable:r,variableAtPosition:n},i)=>{let{width:o,height:l}=t;e.set(t.matrix);for(let r=0;r<i.length;r++){let[n,a,u]=i[r],s=(l+r)*o,p=t.positionOfVariable[a];if(p<o)e[s]=n*u,e.fill(0,s+1,s+o),e[s+p]=n;else{let t=(p-o)*o;e[s]=n*(u-e[t]);for(let r=1;r<o;r++)e[s+r]=-n*e[t+r]}}r.set(t.positionOfVariable),n.set(t.variableAtPosition);let a=o+l+i.length;for(let t=o+l;t<a;t++)r[t]=t,n[t]=t;return{matrix:e.subarray(0,t.matrix.length+o*i.length),width:o,height:l+i.length,positionOfVariable:r.subarray(0,a),variableAtPosition:n.subarray(0,a)}},y=(t,e)=>{let r=0,n=0,i=0;for(let l=0;l<e.length;l++){let a=e[l],u=t.positionOfVariable[a]-t.width;if(u<0)continue;let s=o(t,u,0),p=Math.abs(s-Math.round(s));p>r&&(r=p,n=a,i=s)}return[n,i,r]},w=(t,e,r)=>{var n;let{tableau:i,sign:o,integers:l}=t,{precision:a,maxIterations:u,tolerance:s,timeout:p}=r,[h,f,c]=y(i,l);if(c<=a)return[t,"optimal",e];let w=new((n=b)&&n.__esModule?n.default:n)((t,e)=>t[0]-e[0]);w.push([e,[[-1,h,Math.ceil(f)]]]),w.push([e,[[1,h,Math.floor(f)]]]);let v=2*l.length,x=i.matrix.length+v*i.width,M=i.positionOfVariable.length+v,N=m(x,M),A=m(x,M),O=e*(1-o*s),P=p+Date.now(),k=Date.now()>=P,V=!1,I=1/0,F=i,E=0;for(;E<u&&!w.empty()&&I>=O&&!k;){let[t,e]=w.pop();if(t>I)break;let n=g(i,N,e),[o,u]=d(n,r);if("optimal"===o&&u<I){let[t,r,i]=y(n,l);if(i<=a){V=!0,I=u,F=n;let t=A;A=N,N=t}else{let n=[],i=[];for(let r=0;r<e.length;r++){let o=e[r],[l,a]=o;a===t?l<0?i.push(o):n.push(o):(n.push(o),i.push(o))}i.push([1,t,Math.floor(r)]),n.push([-1,t,Math.ceil(r)]),w.push([u,n]),w.push([u,i])}}k=Date.now()>=P,E++}let D=(k||E>=u)&&!w.empty()&&I>=O?"timedout":V?"optimal":"infeasible";return[{...t,tableau:F},D,V?I:NaN]},v=({tableau:t,sign:e,variables:r},n,i,{precision:l,includeZeroVariables:a})=>{if("optimal"!==n&&("timedout"!==n||Number.isNaN(i))){if("unbounded"!==n)return{status:n,result:NaN,variables:[]};{let n=t.variableAtPosition[i]-1;return{status:"unbounded",result:1/0*e,variables:0<=n&&n<r.length?[[r[n][0],1/0]]:[]}}}{let u=[];for(let e=0;e<r.length;e++){let[n]=r[e],i=t.positionOfVariable[e+1]-t.width,s=i>=0?o(t,i,0):0;s>l?u.push([n,p(s,l)]):a&&u.push([n,0])}return{status:n,result:-e*i,variables:u}}},x={precision:1e-8,checkCycles:!1,maxPivots:8192,tolerance:0,timeout:1/0,maxIterations:32768,includeZeroVariables:!1};({...x});let M=(t,e)=>{let r=s(t),n={...x,...e},[i,o]=d(r.tableau,n);if(0===r.integers.length||"optimal"!==i)return v(r,i,o,n);{let[t,e,i]=w(r,o,n);return v(t,e,i,n)}};onmessage=t=>{let e=t.data;(Array.isArray(e)||ArrayBuffer.isView(e))&&postMessage(function(t,e,r){var n;let i=0|e.length,o="function"==typeof(n=void 0)?new n(i):Array(i);for(let r=0;r<=i-1;r++)!function(t,e,r){if(e<0||e>=t.length)throw Error("Index was outside the bounds of the array.\\nParameter name: index");t[e]=r}(o,r,t(function(t,e){if(!(t<0)&&!(t>=e.length))return e[t];throw Error("Index was outside the bounds of the array.\\nParameter name: index")}(r,e)));return o}(t=>M(t,void 0),e))}})();
//# sourceMappingURL=Worker.1a65dbcc.js.map
